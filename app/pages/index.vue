<script setup lang="ts">
import HorizontalDrag from '@/components/HorizontalDrag.vue'
import AppHeader from '@/components/AppHeader.vue'

const unlocked = ref(false)

const handleUnlock = () => {
	unlocked.value = true
}
</script>

<template>
  <div class="container">
    <transition name="fade">
      <AppHeader v-if="unlocked" />
    </transition>

    <div
      v-if="!unlocked"
      class="locked-content"
    >
      <HorizontalDrag
        label="A Takaki Miyajima"
        @unlocked="handleUnlock"
      />
      <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ‡æ›¿ -->
      <!-- ãƒ­ãƒƒã‚¯è§£é™¤å‰ã®è¡¨ç¤º -->
      <div class="intro-text">
        <h1>ã“ã‚“ã«ã¡ã¯ï¼ã“ã¡ã‚‰ã¯ç§ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã§ã™ã€‚</h1>
        <p>å·¦ã‹ã‚‰å³ã¸ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ãã ã•ã„ã€‚</p>
      </div>
    </div>

    <transition name="fade">
      <div
        v-if="unlocked"
        class="unlocked-content"
      >
        <!-- ã‚¢ãƒ³ãƒ­ãƒƒã‚¯å¾Œã®è¡¨ç¤º -->
        <HorizontalDrag
          label="A Takaki Miyajima"
          class="fixed-logo"
        />
        <div class="main-content">
          <h1>ğŸ‰ ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æˆåŠŸï¼</h1>
          <p>åˆ¥ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
        </div>
      </div>
    </transition>
  </div>
</template>

<style>
/* ãƒ•ã‚§ãƒ¼ãƒ‰ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ */
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s ease;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
}

.container {
  min-height: 100vh;
  position: relative;
  /* Remove flex centering on container to allow absolute positioning of header/content logic if needed,
     but let's keep it and override for inner parts */
  display: flex;
  flex-direction: column;
}

.locked-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  width: 100%;
}

.unlocked-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 80px; /* Space for header */
  text-align: center;
  width: 100%;
}

.intro-text {
    margin-top: 2rem;
    max-width: 90%; /* ãƒ†ã‚­ã‚¹ãƒˆãŒç”»é¢å¹…ã‚’è¶…ãˆãªã„ã‚ˆã†ã« */
    word-break: break-word;
}
</style>

<style>
/* ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
*, *::before, *::after {
  box-sizing: border-box;
}

body, html {
  overflow-x: hidden;
  width: 100%;
  margin: 0;
  padding: 0;
}
</style>
